<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <title>The Love Shack Surf Report</title>
        <meta name="description" content="The Love Shack Surf Report">
        <meta name="author" content="Armin Aschoff">
        <script>
            function updateColumnWidth() {
                let root = document.documentElement;
                let maxColumnWidth = window.getComputedStyle(root).getPropertyValue('--max-column-width');
                let clientWidth = document.documentElement.clientWidth;
                let setWidth = Math.min(maxColumnWidth, clientWidth);
                console.log("Default:", maxColumnWidth,"  Client Width:", clientWidth, "  So setting to:", setWidth);
                root.style.setProperty('--main-column-width',  setWidth + "px");
            }

            window.onorientationchange = updateColumnWidth;
            window.onresize = updateColumnWidth;
    
        </script>
        
        <style>
            :root {
                --max-column-width: 800;
                --main-column-width: 640px;
            }   


            html, body {
                height: 100%;
                margin: 0;
            }

            body {
                background-color: #000000;
            }
            
            #background_image {
                display: block;
                position: fixed; /* Set the navbar to fixed position */
                top: 0; /* Position the navbar at the top of the page */
                width: 100%;
                z-index: -1;
                background-color: #000000;           
            }


            #header {
                box-sizing: border-box;
                background-color: #00000044;
                text-align: center;
                background-image: linear-gradient(#0000EEFF, #0000EE00);
                letter-spacing: 2px;
                word-spacing: 3px;
                font-style: italic;
                color: whitesmoke; 
                font-family: Arial, Helvetica, sans-serif;
            }

            .centered-div {
                margin: auto;                
            }

            .pagecolumn {
                width: var(--main-column-width);
                box-sizing: border-box;
            }

            .videobox {
                margin-top: 5px;
            }

            .BADvideoWrapper {
                position: relative;
	            padding-bottom: 56.25%; /* 16:9 */
                padding-top: 25px;
                height: 0;
            }

            .BADvideoWrapper iframe {
                position: absolute;
	            top: 0;
	            left: 0;
	            width: 100%;
	            height: 100%;
            }

            #weatherTabs {
                display: block; 
                padding-top: 30px;
                opacity: 0.96;
                filter: alpha(opacity=96); /* For IE8 and earlier */  
            }
            

            
            /* Style the tab */
            .tab {
                overflow: hidden;
                border: 1px solid #ccc;
                background-color: #f1f1f1;
            }

            /* Style the buttons inside the tab */
            .tab button {
                background-color: inherit;
                float: left;
                border: none;
                outline: none;
                cursor: pointer;
                padding: 14px 16px;
                transition: 0.3s;
                font-size: 13px;
            }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #ddd;
            }

           /* Style the tab content */
           .tabcontent {
                display: none;
                box-sizing: border-box;
                background-color: #00000000;
                width: var(--main-column-width);
                overflow: visible;
                margin: auto;
            }
            
            /* Create an active/current tablink class */
            .tab button.active {
                background-color: #ccc;
            }
            

        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>

    <body onload="updateColumnWidth()">
        <div id="background_image">
            <img src="beach_picture.jpg">
        </div>

        <div id="header">
                <h1>Welcome to the LUUuuurrve Shack!</h1>
        </div>

        <div class="pagecolumn centered-div">
            <div class="videobox">
                <div class="videoWrapper" >
                    <frameset>
                        <iframe id="id_video_iframe" src="https://www.youtube.com/embed/live_stream?channel=UCkomrWJWXxF2rSE4lJ8KrKA&autoplay=1" frameborder="0" allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope;"></iframe>
                        <noframes>
                            <body>Your browser does not support frames.</body>
                        </noframes>
                    </frameset>
                </div>
            </div>

            <div id="weatherTabs" >

                <div class="tab">
                    <button class="tablinks w3-bottombar" id="defaultOpen" onclick="openTab(event, 'windy', 'id_windy_iFrame')">Windy.com</button>
                    <button class="tablinks w3-bottombar" onclick="openTab(event, 'willyWeather', 'id_willyWeather_iFrame')">Willy Weather</button>
                    <button class="tablinks w3-bottombar" onclick="openTab(event, 'weatherunderground','id_weatherunderground_iFrame')">Weather Underground</button>
                </div>

                <div id="windy" class="tabcontent">
                        <frameset>
                            <iframe id="id_windy_iFrame" height="800px" frameborder="0"src="https://embed.windy.com/embed2.html?lat=-33.610771&lon=151.331654&zoom=11&level=surface&overlay=waves&menu=&message=&marker=&calendar=&pressure=&type=map&location=coordinates&detail=true&detailLat=-33.610771&detailLon=151.331654&metricWind=m%2Fs&metricTemp=%C2%B0C&radarRange=-1" frameborder="0"></iframe>
                            <noframes>
                                <body>Your browser does not support frames.</body>
                            </noframes>
                        </frameset>
                </div>    

                <div id="willyWeather" class="tabcontent">
                        <frameset>
                            <iframe id="id_willyWeather_iFrame" height="1300px" frameborder="0" src="https://www.willyweather.com.au/graphs.html?graph=outlook:1,location:2249,series=order:0,id:sunrisesunset,type:forecast,series=order:1,id:swell-height,type:forecast,series=order:2,id:swell-period,type:forecast,series=order:3,id:wind,type:forecast,series=order:4,id:tides,type:forecast" ></iframe>
                            <noframes>
                                <body>Your browser does not support frames.</body>
                            </noframes>
                        </frameset>
                </div>    

                <div id="weatherunderground" class="tabcontent">
                        <frameset>
                            <iframe id="id_weatherunderground_iFrame" height="4600px" frameborder="0" src="https://www.wunderground.com/personal-weather-station/dashboard?ID=INSWWHAL3" ></iframe>
                            <noframes>
                                <body>Your browser does not support frames.</body>
                            </noframes>
                        </frameset>
                </div>    
            </div>
        </div>
        <script>
            function openTab(evt, tabName, iframeID) {

                updateColumnWidth();

                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
                tablinks[i].className = tablinks[i].className.replace(" w3-border-red", "");
                }
                document.getElementById(tabName).style.display = "block";
                evt.currentTarget.className += " active w3-border-red";
                
                if (iframeID) {
                    //force a refresh of the iframe
                    let iframe = document.getElementById(iframeID); 
                    iframe.src = iframe.src;
                    iframe.width = window.getComputedStyle(document.documentElement).getPropertyValue('--main-column-width');
                }
            }
            
            // Get the element with id="defaultOpen" and click on it
            document.getElementById("defaultOpen").click();
        </script>
    </body>
</html>

